{"name":"Dandelion","tagline":"Dandelion 是一个使用 C++ 编写的跨平台的腾讯微博自动发送工具","body":"Dandelion 是一个使用 C++ 编写的跨平台的腾讯微博自动发送工具。\r\n\r\n\r\n# 功能\r\n\r\n程序每隔2分钟读取腾信新闻RSS, 将内容发布到腾讯微博上。\r\n\r\n若近段时间无RSS更新，则程序会转发一些热门微博。\r\n\r\n# 开发\r\n\r\n本程序基于 bluentzhao 发布的腾讯微博非官方版本的 C++ SDK v1.2 编写。\r\n\r\nhttp://zhujiangbotest.googlecode.com/svn/trunk/txweibo_C++SDK-v1.2/\r\n\r\n对原 SDK 的改进点如下：\r\n\r\n1. 因本App 目前不解析腾讯微博响应包，故裁剪掉 xml 和 json 库。\r\n\r\n2. 原 SDK 的字符串处理使用 MFC 的 API，和C标准库函数混合使用，可移植性不好，并且很容易出现内存泄漏问题。现将其统一用 C++ 中的 std::string 处理。\r\n\r\n3. 线程库替换为 pthread。\r\n\r\n4. 编写 message 类来处理消息队列，取代 Windows API 的消息处理。解决了原 SDK 的一些同步竞争问题，程序运行更稳定。\r\n\r\n5. 使用 libiconv2 取代原 SDK 的编码转换函数，解决了一些乱码问题。\r\n\r\n6. 对代码进行了重构。\r\n\r\n因此，如果您需要使用 C++ 编写跨平台的腾讯微博应用，希望这些代码能对您有所帮助。\r\n\r\n# 编译和运行\r\n\r\n## Windows\r\n\r\n使用 Visual Studio 2012 打开 win32/Dandelion.sln 即可编译。\r\n\r\n如果您使用更低版本的 Visual Studio，可自行创建工程编译。\r\n\r\nDandelion 使用了 STL，因此对标准 C++ 支持不好的 Visual C++ 6.0 可能会无法通过编译。\r\n\r\n编译完成之后，在 win32 目录下生成 Debug 或 Release 文件夹，这取决于您的编译配置。\r\n\r\n将 config 文件夹和 win32 目录下的 DLL 文件复制到这个文件夹中。\r\n\r\n在 Visual Studio 2012 按 F5 开始调试。\r\n\r\n稍等片刻，浏览器窗口弹出“授权使用腾讯微博账号”的页面，请输入微博账号和密码。授权完成后浏览器跳转到一个url。\r\n\r\n将这个url，即浏览器的地址栏中 oauth_verifier=xxxxxx 中 = 后面的数字复制下来，粘贴到 dandelion 命令行窗口中，回车。\r\n\r\n现在程序开始使用先前验证时使用的腾讯微博账号来广播微博了。\r\n\r\n同时程序在 config 目录下生成 auth.conf 文件保存授权信息。下次运行时不必在网页中授权使用账号。\r\n\r\n## Linux\r\n\r\n执行以下命令编译：\r\n\r\n$ cd dandelion\r\n\r\n$ ./configure\r\n\r\n$ make\r\n\r\n执行以下命令运行:\r\n\r\n$ ./dandelion\r\n\r\n程序暂不支持的 Linux 下授权使用腾讯微博账号，因此如果 config 目录下没有 auth.conf 文件，程序将给出提示并停止运行。\r\n\r\n您可以在 Windows 环境下生成 auth.conf 文件供 Linux 环境下使用。\r\n\r\n# 配置项\r\n\r\n以下为 config 目录下各个文件的作用：\r\n\r\nauth.conf    保存了授权信息。\r\n\r\nblack.lst    程序每隔2分钟检查最新收听者的昵称是否包含这些字段，若包含则把这个用户加到黑名单中。\r\n\r\nblock.lst    如果要广播或转发的微博中包含这些关键词，则跳过，不予广播。\r\n\r\ninserted.txt 程序开始运行时会广播此文件中的内容\r\n\r\nrss.lst      指定了程序要抓取的 RSS 种子。您可以在 http://rss.qq.com/news.htm 中找到其他的种子并添加进来。","google":"UA-43859308-1","note":"Don't delete this file! It's used internally to help with page regeneration."}